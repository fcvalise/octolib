language: cpp

sudo: required

compiler:
 - clang

env:
 - MODE=release
 - MODE=debug

before_install:
 - chmod u=rx ./scripts/travis/*.sh

install:
 - sudo ./scripts/travis/install_compiler.sh
 - sudo ./scripts/travis/install_dependencies.sh
 - if [ "$MODE" = "debug" ]; then sudo ./scripts/travis/install_cppcheck.sh; fi
 - sudo ./scripts/travis/install_sfml.sh

script:
 - if [ "$MODE" = "debug" ]; then sudo ./scripts/travis/run_static_analysis.sh; fi
 - make complete MODE=$MODE
 - make run_tests MODE=$MODE
